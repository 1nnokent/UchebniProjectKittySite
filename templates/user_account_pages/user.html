<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Кошьки inc.</title>
  <meta name="description" content="">
  <meta name="keywords" content="">

  <!-- Favicons -->
  <link href="{{ url_for('static', filename='/img/favicon.png') }}" rel="icon">
  <link href="{{ url_for('static', filename='/img/apple-touch-icon.png') }}" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&family=Poppins:wght@100;200;300;400;500;600;700;800;900&family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/bootstrap-icons/bootstrap-icons.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/aos/aos.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/glightbox/css/glightbox.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='vendor/swiper/swiper-bundle.min.css') }}" rel="stylesheet">

  <!-- Main CSS File -->
  <link href="{{ url_for('static', filename='/css/main.css') }}" rel="stylesheet">

  <style>
    body {
      background-color: #f8f9fa; /* Цвет фона для страницы */
      overflow-y: scroll;
    }

    .profile-container {
      display: flex;
      flex-direction: column; /* Вертикальное расположение */
      align-items: center; /* Центрирование по горизонтали */
      justify-content: center; /* Центрирование по вертикали */
      max-width: 600px; /* Максимальная ширина контейнера */
      margin: 10% auto 0; /* Центрирование контейнера и отступ сверху */
      padding: 20px; /* Отступ внутри контейнера */
      background-color: #e9ecef; /* Цвет фона для контейнера */
      border-radius: 10px; /* Скругленные углы */
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Тень для контейнера */
    }

    .statistics-container {
      display: flex;
      flex-direction: column; /* Вертикальное расположение */
      align-items: center; /* Центрирование по горизонтали */
      justify-content: center; /* Центрирование по вертикали */
      max-width: 1200px; /* Максимальная ширина контейнера */
      margin: 10% auto 0; /* Центрирование контейнера и отступ сверху */
      padding: 20px; /* Отступ внутри контейнера */
      background-color: #e9ecef; /* Цвет фона для контейнера */
      border-radius: 10px; /* Скругленные углы */
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1); /* Тень для контейнера */
    }

    img {
      max-width: 300px; /* Ограничение ширины изображения */
      height: auto; /* Автоматическая настройка высоты */
      border-radius: 50%; /* Круглая форма для фото */
      margin-bottom: 20px; /* Отступ снизу */
    }

    .info-list {
      margin-top: 20px; /* Отступ сверху */
      list-style-type: none; /* Убираем маркеры списка */
      padding: 0; /* Убираем отступы у списка */
      text-align: left; /* Центрируем текст списка */
    }

    .info-list li {
      margin: 5px 0; /* Отступы для элементов списка */
    }

    .about-section {
      text-align: center; /* Центрируем текст */
      margin-top: 20px; /* Отступ сверху */
    }

    table .col-green {
        background-color: #4CAF50; /* ярко-зеленый */
    }

    table .col-light-green {
        background-color: #8BC34A; /* светло-зеленый */
    }

    table .col-yellow {
        background-color: #FFEB3B; /* желтый */
    }

    table .col-red {
        background-color: #F44336; /* красный */
    }
  </style>
</head>

<body>
  {% include 'header.html' %}

  <div class="profile-container">
    <img src="{{ url_for('static', filename=photo_directory) }}" alt="Фото пользователя">
    <ul class="info-list">
      <li><h3>{{ first_name }} {{ second_name }}</h3></li>
      <li><h4>{{ role }}</h4></li>
      <li><h5>Адрес электронной почты: {{ email }}</h5></li>
      <li><h5>День рождения: {{ birth_date }}</h5></li>
      <li><h5>С нами с: {{ registration_time }}</h5></li>
      <li><h5>Школа: {{ school }}</h5></li>
      <li><h5>Город: {{ city }}</h5></li>
      {% if class %}
        <li><h5>Класс: {{ class }}</h5></li>
      {% endif %}
    </ul>
  </div>


  <div class="statistics-container">
    <h2 style="text-transform: uppercase;">Статистика</h2>
    <table class="table table-bordered" style="margin-top: 10px;">
        <thead>
            <tr>
                <th>№ Задания</th>
                {% for task in range(1, 28) %}
                <th>{{ task }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Количество попыток</td>
                {% for task in range(1, 28) %}
                <td class="{% if ratio[task] >= 0.85 %}col-green{% elif ratio[task] >= 0.75 %}col-light-green{% elif ratio[task] >= 0.65 %}col-yellow{% else %}col-red{% endif %}">
                    {{ number_of_attempts[task] }}
                </td>
                {% endfor %}
            </tr>
            <tr>
                <td>Успешные попытки</td>
                {% for task in range(1, 28) %}
                <td class="{% if ratio[task] >= 0.85 %}col-green{% elif ratio[task] >= 0.75 %}col-light-green{% elif ratio[task] >= 0.65 %}col-yellow{% else %}col-red{% endif %}">
                    {{ number_of_right_attempts[task] }}
                </td>
                {% endfor %}
            </tr>
        </tbody>
    </table>
  </div>

  <!-- JS Files -->
  <script src="static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>

</html>